<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#5de1c5" />
    <title>PodWave Mobile Lab</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <div id="toast-container"></div>
    <div id="app">
      <header class="topbar">
        <h1>PodWave</h1>
        <div class="topbar-right">
          <div id="statusDot" class="status-dot"></div>
          <span id="sessionLabel">Sin sesion</span>
          <button id="btnTheme" class="btn-theme" title="Cambiar tema">&#x1F319;</button>
        </div>
      </header>

      <main id="screens">
        <!-- HOME -->
        <section id="screen-home" class="screen active">
          <h2>Inicio</h2>
          <div class="register-row">
            <input id="userName" type="text" placeholder="Nombre" />
            <input id="userDni" type="text" placeholder="DNI" value="53945291X" />
            <button id="btnRegister" class="btn-accent">Entrar</button>
          </div>
          <h3>Canales</h3>
          <div id="channelsList" class="card-list"></div>
          <h3>Top episodios</h3>
          <div id="homeEpisodes" class="card-list"></div>
        </section>

        <!-- EXPLORE -->
        <section id="screen-explore" class="screen">
          <h2>Explorar</h2>
          <div class="search-bar">
            <input id="searchInput" type="text" placeholder="Buscar episodio, canal o mood..." />
          </div>
          <div class="chips" id="moodChips">
            <button class="active" data-mood="">Todos</button>
            <button data-mood="Focus">Focus</button>
            <button data-mood="Build">Build</button>
            <button data-mood="Calm">Calm</button>
          </div>
          <div id="exploreEpisodes" class="list"></div>
        </section>

        <!-- LIBRARY -->
        <section id="screen-library" class="screen">
          <h2>Biblioteca</h2>
          <div class="util-bar">
            <button id="btnSeed">&#x1F331; Seed datos</button>
            <button id="btnExport">&#x1F4E5; Exportar</button>
            <button id="btnImport">&#x1F4E4; Importar</button>
            <input type="file" id="importFile" accept=".json" style="display:none" />
          </div>
          <div id="favoritesList" class="card-list"></div>
          <h3>Metricas</h3>
          <div id="stats" class="kpis"></div>
          <h3>Ranking</h3>
          <div id="leaders" class="list"></div>
        </section>
      </main>

      <!-- Mini player -->
      <div id="miniPlayer" class="mini-player">
        <div class="progress-bar" id="progressBar"></div>
        <div class="player-emoji" id="playerEmoji">&#x1F3A7;</div>
        <div class="player-info">
          <div class="player-title" id="playerTitle">...</div>
          <div class="player-channel" id="playerChannel">...</div>
        </div>
        <div class="player-controls">
          <button id="btnPlayPause" class="btn-play">&#x25B6;&#xFE0F;</button>
          <button id="btnClosePlayer" class="btn-close-player">&#x2715;</button>
        </div>
      </div>

      <footer class="tabbar">
        <button data-target="home" class="tab active">
          <span class="tab-icon">&#x1F3E0;</span><span>Inicio</span>
        </button>
        <button data-target="explore" class="tab">
          <span class="tab-icon">&#x1F50E;</span><span>Explorar</span>
          <span id="badgeExplore" class="tab-badge" style="display:none">0</span>
        </button>
        <button data-target="library" class="tab">
          <span class="tab-icon">&#x1F4DA;</span><span>Biblioteca</span>
          <span id="badgeLibrary" class="tab-badge" style="display:none">0</span>
        </button>
      </footer>
    </div>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
  </body>
</html>
